<!-- 测试页面 - 验证 view 元素埋点 -->
<view class="test-container">
    <view class="test-header">
        <text>埋点测试页面</text>
    </view>

    <!-- 测试1: 基础 view 元素（手动绑定） -->
    <view class="test-section">
        <text class="section-title">测试1: 基础 view 元素</text>
        
        <view class="test-btn" data-text="打开按钮" bindtap="handleGlobalClick">
            打开按钮 (手动绑定)
        </view>
        
        <view class="test-btn" data-text="关闭按钮" bindtap="handleGlobalClick">
            关闭按钮 (手动绑定)
        </view>
    </view>

    <!-- 测试2: 不同类型的元素 -->
    <view class="test-section">
        <text class="section-title">测试2: 不同元素类型</text>
        
        <!-- 按钮元素 -->
        <button class="test-button" data-text="确认按钮" bindtap="handleGlobalClick">
            确认按钮
        </button>
        
        <!-- 图片元素 -->
        <image class="test-image" src="/images/test.jpg" data-src="test-image" bindtap="handleGlobalClick" />
        
        <!-- 文本元素 -->
        <text class="test-text" data-text="文本点击" bindtap="handleGlobalClick">
            可点击文本
        </text>
    </view>

    <!-- 测试3: 列表项测试 -->
    <view class="test-section">
        <text class="section-title">测试3: 列表项测试</text>
        
        <view wx:for="{{testList}}" wx:key="id" 
              class="test-list-item" 
              data-text="列表项{{item.id}}" 
              bindtap="handleGlobalClick">
            列表项 {{item.id}}: {{item.name}}
        </view>
    </view>

    <!-- 测试4: 嵌套元素测试 -->
    <view class="test-section">
        <text class="section-title">测试4: 嵌套元素测试</text>
        
        <view class="test-card" data-text="卡片点击" bindtap="handleGlobalClick">
            <view class="card-header">
                <text>卡片标题</text>
            </view>
            <view class="card-body">
                <text>卡片内容，点击整个卡片区域</text>
            </view>
        </view>
    </view>

    <!-- 测试5: 自定义埋点属性 -->
    <view class="test-section">
        <text class="section-title">测试5: 自定义埋点</text>
        
        <view class="test-custom" data-track="custom-event-1" bindtap="trackClick">
            自定义埋点事件1
        </view>
        
        <view class="test-custom" data-track="custom-event-2" bindtap="trackClick">
            自定义埋点事件2
        </view>
    </view>

    <!-- 测试6: 无埋点元素（对比测试） -->
    <view class="test-section">
        <text class="section-title">测试6: 无埋点元素</text>
        
        <view class="test-normal" bindtap="normalClick">
            普通点击（无埋点）
        </view>
    </view>

    <!-- 调试信息显示区域 -->
    <view class="debug-section">
        <text class="section-title">调试信息</text>
        
        <view class="debug-info">
            <text>最后点击: {{lastClickInfo}}</text>
        </view>
        
        <view class="debug-info">
            <text>埋点次数: {{trackCount}}</text>
        </view>
        
        <view class="debug-info">
            <text>普通点击次数: {{normalClickCount}}</text>
        </view>
    </view>

    <!-- 操作按钮 -->
    <view class="action-section">
        <button class="action-btn" bindtap="clearDebugInfo">
            清除调试信息
        </button>
        
        <button class="action-btn" bindtap="showTrackData">
            显示埋点数据
        </button>
    </view>
</view>

<style>
.test-container {
    padding: 20rpx;
}

.test-header {
    text-align: center;
    padding: 30rpx;
    background-color: #f5f5f5;
    margin-bottom: 20rpx;
}

.test-section {
    margin-bottom: 30rpx;
    padding: 20rpx;
    border: 1rpx solid #e0e0e0;
    border-radius: 10rpx;
}

.section-title {
    font-weight: bold;
    color: #333;
    margin-bottom: 15rpx;
    display: block;
}

.test-btn {
    padding: 20rpx;
    margin: 10rpx 0;
    background-color: #007aff;
    color: white;
    text-align: center;
    border-radius: 8rpx;
}

.test-button {
    margin: 10rpx 0;
    background-color: #34c759;
}

.test-image {
    width: 200rpx;
    height: 150rpx;
    margin: 10rpx 0;
    background-color: #f0f0f0;
}

.test-text {
    display: block;
    padding: 15rpx;
    margin: 10rpx 0;
    background-color: #ff9500;
    color: white;
    text-align: center;
    border-radius: 5rpx;
}

.test-list-item {
    padding: 15rpx;
    margin: 5rpx 0;
    background-color: #f8f8f8;
    border-left: 4rpx solid #007aff;
}

.test-card {
    padding: 20rpx;
    margin: 10rpx 0;
    background-color: white;
    border: 1rpx solid #ddd;
    border-radius: 10rpx;
    box-shadow: 0 2rpx 10rpx rgba(0,0,0,0.1);
}

.card-header {
    font-weight: bold;
    margin-bottom: 10rpx;
}

.test-custom {
    padding: 15rpx;
    margin: 10rpx 0;
    background-color: #af52de;
    color: white;
    text-align: center;
    border-radius: 8rpx;
}

.test-normal {
    padding: 15rpx;
    margin: 10rpx 0;
    background-color: #8e8e93;
    color: white;
    text-align: center;
    border-radius: 8rpx;
}

.debug-section {
    background-color: #f0f0f0;
    padding: 20rpx;
    margin: 20rpx 0;
    border-radius: 10rpx;
}

.debug-info {
    padding: 5rpx 0;
    font-family: monospace;
    font-size: 28rpx;
}

.action-section {
    display: flex;
    gap: 20rpx;
    margin-top: 30rpx;
}

.action-btn {
    flex: 1;
    background-color: #ff3b30;
    color: white;
}
</style>
